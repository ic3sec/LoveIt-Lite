{{- $share := (.Scratch.Get "params").share | default dict -}}

{{- if $share.enable -}}
    {{- /* 001: X */ -}}
    {{- if $share.X | default $share.Twitter -}}
        {{- $socialX := .Site.Params.Social.X | default .Site.Params.Social.Twitter -}}
        {{- if reflect.IsMap $socialX -}}
            {{- $socialX = $socialX.id -}}
        {{- end -}}
        <a href="javascript:void(0);" title="{{ T `shareOn` }} X" data-sharer="x" data-url="{{ .Permalink }}" data-title="{{ .Title }}"{{ with $socialX }} data-via="{{ . }}"{{ end }}{{ with .Params.tags }} data-hashtags="{{ delimit . `,` }}"{{ end }}>
            {{- dict "Name" "twitter" | partial "plugin/icon.html" -}}
        </a>
    {{- end -}}

    {{- /* 002: Threads */ -}}
    {{- if $share.Threads -}}
        <a href="javascript:void(0);" title="{{ T `shareOn` }} Threads" data-sharer="threads" data-url="{{ .Permalink }}" data-title="{{ .Title }}">
            {{- dict "Name" "threads" | partial "plugin/icon.html" -}}
        </a>
    {{- end -}}

    {{- /* 003: Facebook */ -}}
    {{- if $share.Facebook -}}
        <a href="javascript:void(0);" title="{{ T `shareOn` }} Facebook" data-sharer="facebook" data-url="{{ .Permalink }}"{{ with .Params.tags }} data-hashtag="{{ index . 0 }}"{{ end }}>
            {{- dict "Name" "facebook" | partial "plugin/icon.html" -}}
        </a>
    {{- end -}}

    {{- /* 004: Linkedin */ -}}
    {{- if $share.Linkedin -}}
        <a href="javascript:void(0);" title="{{ T `shareOn` }} Linkedin" data-sharer="linkedin" data-url="{{ .Permalink }}">
            {{- dict "Name" "linkedin" | partial "plugin/icon.html" -}}
        </a>
    {{- end -}}

    {{- /* 005: WhatsApp */ -}}
    {{- if $share.Whatsapp -}}
        <a href="javascript:void(0);" title="{{ T `shareOn` }} WhatsApp" data-sharer="whatsapp" data-url="{{ .Permalink }}" data-title="{{ .Title }}" data-web>
            {{- dict "Name" "whatsapp" | partial "plugin/icon.html" -}}
        </a>
    {{- end -}}

    {{- /* 006: Hacker News */ -}}
    {{- if $share.Hackernews -}}
        <a href="javascript:void(0);" title="{{ T `shareOn` }} Hacker News" data-sharer="hackernews" data-url="{{ .Permalink }}" data-title="{{ .Title }}">
            {{- dict "Name" "hacker-news" | partial "plugin/icon.html" -}}
        </a>
    {{- end -}}

    {{- /* 007: Reddit */ -}}
    {{- if $share.Reddit -}}
        <a href="javascript:void(0);" title="{{ T `shareOn` }} Reddit" data-sharer="reddit" data-url="{{ .Permalink }}">
            {{- dict "Name" "reddit" | partial "plugin/icon.html" -}}
        </a>
    {{- end -}}

    {{- /* 008: Telegram */ -}}
    {{- if $share.Telegram -}}
        <a href="https://t.me/share/url?url={{ .Permalink }}&amp;text={{ .Title }}" target="_blank" title="{{ T `shareOn` }} Telegram">
            {{- dict "Name" "telegram" | partial "plugin/icon.html" -}}
        </a>
    {{- end -}}
{{- end -}}
